<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>groovy - mojones.net</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">




    <meta name="author" content="Martin Jones" />
    <meta name="keywords" content="groovy" />

    <!-- Open Graph tags -->
        <meta property="og:site_name" content="mojones.net" />
        <meta property="og:type" content="website"/>
        <meta property="og:title" content="mojones.net"/>
        <meta property="og:url" content=".."/>
        <meta property="og:description" content="mojones.net"/>


    <!-- Bootstrap -->
        <link rel="stylesheet" href="../theme/css/bootstrap.simplex.min.css" type="text/css"/>
    <link href="../theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="../theme/css/pygments/autumn.css" rel="stylesheet">
    <link rel="stylesheet" href="../theme/css/style.css" type="text/css"/>
        <link href="../static/custom.css" rel="stylesheet">

        <link href="../feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="mojones.net ATOM Feed"/>




        <script src="../theme/js/jquery.min.js"></script>

        <script src="../theme/js/jquery.sidenotes.js"></script>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="../" class="navbar-brand">
mojones.net            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="../category/diy.html">Diy</a>
                        </li>
                        <li >
                            <a href="../category/programming.html">Programming</a>
                        </li>
                        <li >
                            <a href="../category/science.html">Science</a>
                        </li>
                        <li >
                            <a href="../category/tech.html">Tech</a>
                        </li>
                        <li >
                            <a href="../category/web.html">Web</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="../archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<style>
	#banner{
	    background-image:url("../images/header.jpg");
	}
</style>

<div id="banner">
	<div class="container">
		<div class="copy">
			<h1>mojones.net</h1>
		</div>
	</div>
</div><!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
            <article>
                <h2><a href="../how-to-use-jquery-to-send-json-data-to-a-grails-app.html">How to use jQuery to send JSON data to a Grails app</a></h2>
                    <div class="well well-sm">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-11-04T18:10:58.273243+00:00"> Wed 04 November 2015</time>
    </span>



        <span class="label label-default">Category</span>
        <a href="../category/programming.html">programming</a>


<span class="label label-default">Tags</span>
	<a href="../tag/groovy.html">groovy</a>
        /
	<a href="../tag/grails.html">grails</a>
        /
	<a href="../tag/jquery.html">jquery</a>
        /
	<a href="../tag/json.html">json</a>
        /
	<a href="../tag/ajax.html">ajax</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary"><p>This took me a while to figure out, so here it is for anyone else who’d like to know. Firstly, I was quite surprised to learn that jQuery doesn’t have a built in method for turning objects into JSON, so you’ll need the <a href="https://web.archive.org/web/20130624115433/http://www.json.org/json2.js">JSON parser/creator</a> from <a href="https://web.archive.org/web/20130624115433/http://www.json.org/js.html">json.org</a>. Then you can write your javascript POST function using the jQuery ajax method. Here I’ve left the content type as text/plain, which is not strictly correct but works with the Groovy code.</p>
<div class="highlight"><pre><span class="kd">function</span> <span class="nx">postTreeData</span><span class="p">(){</span>
    <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;POST&quot;</span><span class="p">,</span>
        <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;savedata&quot;</span><span class="p">,</span>
        <span class="nx">contentType</span> <span class="o">:</span> <span class="s2">&quot;text/plain&quot;</span><span class="p">,</span>
        <span class="nx">dataType</span><span class="o">:</span> <span class="s1">&#39;json&#39;</span><span class="p">,</span>
        <span class="nx">data</span><span class="o">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">$</span><span class="p">.</span><span class="nx">tree</span><span class="p">.</span><span class="nx">focused</span><span class="p">().</span><span class="nx">get</span><span class="p">()),</span>
        <span class="nx">success</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">msg</span><span class="p">){</span>
            <span class="nx">alert</span><span class="p">(</span> <span class="s2">&quot;Data Saved: &quot;</span> <span class="o">+</span> <span class="nx">msg</span> <span class="p">);</span>
        <span class="p">}</span>
    <span class="p">});</span>
<span class="p">}</span>
</pre></div>


<p>And on the server end, here’s the code from the relevant controller.</p>
<div class="highlight"><pre><span class="kt">def</span> <span class="n">savedata</span> <span class="o">=</span> <span class="o">{</span>
        <span class="kt">def</span> <span class="n">json</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="na">JSON</span>
        <span class="c1">// do something useful with the data</span>
        <span class="n">text</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">each</span><span class="o">{</span>
               <span class="n">println</span> <span class="n">it</span><span class="o">.</span><span class="na">data</span><span class="o">.</span><span class="na">title</span>
         <span class="o">}</span>
         <span class="n">render</span> <span class="s2">&quot;OK&quot;</span>
 <span class="o">}</span>
</pre></div>
                        <a class="btn btn-default btn-xs" href="../how-to-use-jquery-to-send-json-data-to-a-grails-app.html">more ...</a>
    
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="../hibernate-magic-with-lazy-evaluation.html">Hibernate magic with lazy evaluation</a></h2>
                    <div class="well well-sm">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-11-04T18:10:54.357244+00:00"> Wed 04 November 2015</time>
    </span>



        <span class="label label-default">Category</span>
        <a href="../category/programming.html">programming</a>


<span class="label label-default">Tags</span>
	<a href="../tag/grails.html">grails</a>
        /
	<a href="../tag/groovy.html">groovy</a>
        /
	<a href="../tag/hibernate.html">hibernate</a>
        /
	<a href="../tag/lazyness.html">lazyness</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary"><p>I’ve just run across this phenomenon for the first time and it turns out that hibernate can be even lazier than I thought!  To illustrate lets use this time-honoured example in Grails.  </p>
<p>Here are our domain objects:</p>
<div class="highlight"><pre><span class="kd">class</span> <span class="nc">Book</span> <span class="o">{</span>  
    <span class="n">String</span> <span class="n">title</span>  
    <span class="kd">static</span> <span class="n">belongsTo</span> <span class="o">=</span> <span class="o">[</span><span class="n">author</span> <span class="o">:</span> <span class="n">Author</span><span class="o">]</span>  
    <span class="kd">static</span> <span class="n">constraints</span> <span class="o">=</span> <span class="o">{</span>  
    <span class="o">}</span>  
<span class="o">}</span>  
<span class="kd">class</span> <span class="nc">Author</span> <span class="o">{</span>  
    <span class="n">String</span> <span class="n">name</span>  
    <span class="kd">static</span> <span class="n">hasMany</span> <span class="o">=</span> <span class="o">[</span><span class="n">books</span> <span class="o">:</span> <span class="n">Book</span><span class="o">]</span>  
    <span class="kd">static</span> <span class="n">constraints</span> <span class="o">=</span> <span class="o">{</span>  
    <span class="o">}</span>  
<span class="o">}</span>
</pre></div>


<p>and we’ll add some sample data in our <code>bootstrap.groovy</code>:</p>
<div class="highlight"><pre><span class="kt">def</span> <span class="n">init</span> <span class="o">=</span> <span class="o">{</span> <span class="n">servletContext</span> <span class="o">-&gt;</span>  
    <span class="kt">def</span> <span class="n">alice</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Author</span><span class="o">(</span><span class="nl">name:</span> <span class="s1">&#39;alice&#39;</span><span class="o">).</span><span class="na">save</span><span class="o">()</span>  
    <span class="kt">def</span> <span class="n">book1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Book</span><span class="o">(</span><span class="nl">title:</span> <span class="s1">&#39;book1&#39;</span><span class="o">)</span>  
    <span class="kt">def</span> <span class="n">book2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Book</span><span class="o">(</span><span class="nl">title:</span> <span class="s1">&#39;book2&#39;</span><span class="o">)</span>  
    <span class="n">alice</span><span class="o">.</span><span class="na">addToBooks</span><span class="o">(</span><span class="n">book1</span><span class="o">)</span>  
    <span class="n">alice</span><span class="o">.</span><span class="na">addToBooks</span><span class="o">(</span><span class="n">book2</span><span class="o">)</span>  
<span class="o">}</span>
</pre></div>


<p>Now we’ll turn on SQL logging in <code>Datasource.groovy</code>, so we can see exactly when hibernate is issuing SQL queries:</p>
<div class="highlight"><pre><span class="n">dataSource</span> <span class="o">{</span>  
    <span class="n">dbCreate</span> <span class="o">=</span> <span class="s2">&quot;create-drop&quot;</span> <span class="c1">// one of &#39;create&#39;, &#39;create-drop&#39;,&#39;update&#39;  </span>
    <span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;jdbc:hsqldb:mem:devDB&quot;</span>  
    <span class="n">loggingSql</span> <span class="o">=</span> <span class="kc">true</span>  
<span class="o">}</span>
</pre></div>


<p>Now let’s create a controller to hold our test code (just for convenience, this could also be done in a groovy console):</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">TestController</span> <span class="o">{</span>

    <span class="kt">def</span> <span class="n">index</span> <span class="o">=</span> <span class="o">{</span>

        <span class="n">println</span> <span class="s2">&quot;starting controller&quot;</span>  
        <span class="kt">def</span> <span class="n">alice</span> <span class="o">=</span> <span class="n">Author</span><span class="o">.</span><span class="na">findByName</span><span class="o">(</span><span class="s1">&#39;alice&#39;</span><span class="o">)</span>  
        <span class="n">println</span> <span class="s2">&quot;author name is $alice.name&quot;</span>  
        <span class="kt">def</span> <span class="n">myBooks</span> <span class="o">=</span> <span class="n">alice</span><span class="o">.</span><span class="na">books</span>  
        <span class="n">println</span> <span class="s2">&quot;books are now stored in a variable&quot;</span>  
        <span class="n">myBooks</span><span class="o">.</span><span class="na">each</span><span class="o">({</span><span class="n">println</span> <span class="n">it</span><span class="o">.</span><span class="na">title</span><span class="o">})</span>  
        <span class="n">println</span> <span class="n">myBooks</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">name</span>  
        <span class="n">render</span> <span class="s2">&quot;OK!&quot;</span>  
    <span class="o">}</span>  
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p>This is pretty straightforward – we’re using a dynamic finder to retrieve the <code>Author</code> we added in the bootstrap script, then getting the list of <code>Books</code> and storing them in a variable, then printing the title of each book.</p>
<p>Question: when do we expect to see the SQL query issued to retrieve the books? Grails uses lazy evaluation by default, so it won’t be at line 6, because we haven’t actually asked for the <code>books</code> field yet. I expected to see it at line 8 – here we are asking for the <code>books</code> field, so surely this is where hibernate will retrieve them. I was wrong – in fact the books are not retrieved until line 10, where we actually want to do something with the books. The output make this clear:</p>
<div class="highlight"><pre>starting controller  
Hibernate:  
select  
this_.id as id0_0_,  
this_.version as version0_0_,  
this_.name as name0_0_  
from  
author this_  
where  
this_.name=?  
author name is alice  
books are now stored in a variable  
Hibernate:  
select  
books0_.author_id as author3_1_,  
books0_.id as id1_,  
books0_.id as id1_0_,  
books0_.version as version1_0_,  
books0_.author_id as author3_1_0_,  
books0_.title as title1_0_  
from  
book books0_  
where  
books0_.author_id=?  
book2  
book1  
org.hibernate.collection.PersistentSet  
</pre></div>


<p>So hibernate does not actually execute the SQL query to get the books when we ask for <code>alice.books</code>, but it is lazy enough to wait until we actually we try to iterate over the results. The last line of the output reveals how the magic happens – the object that <code>myBooks</code> points to is not a straightforward <code>List</code>, but a <a href="https://web.archive.org/web/20130624115433/https://www.hibernate.org/hib_docs/v3/api/org/hibernate/collection/PersistentSet.html"><code>PersistentSet</code></a>.</p>
<p>This caused me a fair amount of confusion when I was trying to optimise a Grails action by minimising the number of SQL queries issued when retrieving a large number of objects from a database. Now that I know the way that it really works, I find it both cool, and a little bit scary that this is going on behind the scenes. A nice illustration of the trade-offs involved in using an ORM framework.</p>
                        <a class="btn btn-default btn-xs" href="../hibernate-magic-with-lazy-evaluation.html">more ...</a>
    
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="../functional-abstraction-examples-from-scip-in-groovy.html">Functional Abstraction examples from SCIP in Groovy</a></h2>
                    <div class="well well-sm">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-11-04T18:10:51.705244+00:00"> Wed 04 November 2015</time>
    </span>



        <span class="label label-default">Category</span>
        <a href="../category/programming.html">programming</a>


<span class="label label-default">Tags</span>
	<a href="../tag/groovy.html">groovy</a>
        /
	<a href="../tag/functional-programming.html">functional programming</a>
        /
	<a href="../tag/higher-order-programming.html">higher order programming</a>
        /
	<a href="../tag/recursion.html">recursion</a>
        /
	<a href="../tag/sicp.html">sicp</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary"><p>I've been checking out the legendary MIT <a href="http://www.youtube.com/watch?v=2Op3QLzMgSY&amp;feature=list_related&amp;playnext=1&amp;list=SPE18841CABEA24090">Structure and Interpretation of Computer Programs</a> course from 1986 on YouTube, and it's fascinating for many reasons, not least the hypnotic synthesized Bach that bookends each lecture. I don't think I will ever be able to hear <em>Jesu, joy of man's desiring</em> again without seeing that purple wizard. What's really striking to me is how quickly the course gets into territory that I (coming from a self-taught Perl/Java background) think of as pretty advanced. In the first three lectures we are introduced to:</p>
<ul>
<li>Recursive subroutines</li>
<li>big-O notation</li>
<li>passing functions around as variables</li>
<li>building functions using higher-order programming</li>
</ul>
<p>Anyway, I thought that the example used to illustrate higher-order programming was pretty cool, so I decided to see if I could implement it in Groovy. The example involves writing a function to calculate the square root of a number using the <a href="http://en.wikipedia.org/wiki/Methods_of_computing_square_roots#Babylonian_method">Babylonian method </a>- start with a guess and repeatedly average the guess with the number divided by the guess, until the answer is close enough.</p>
<p>Here it is in Groovy:</p>
<div class="highlight"><pre><span class="kt">def</span> <span class="nf">abs</span><span class="o">(</span><span class="n">x</span><span class="o">){</span>  
    <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span>  
        <span class="o">-</span><span class="n">x</span>  
    <span class="k">else</span>  
        <span class="n">x</span>  
<span class="o">}</span>

<span class="kt">def</span> <span class="nf">sqrt2</span><span class="o">(</span><span class="n">guess</span><span class="o">){</span>  
    <span class="n">println</span> <span class="s2">&quot;guess is $guess&quot;</span>  
    <span class="kt">def</span> <span class="n">difference</span> <span class="o">=</span> <span class="n">abs</span><span class="o">((</span><span class="n">guess</span> <span class="o">*</span> <span class="n">guess</span><span class="o">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">)</span>  
    <span class="k">if</span> <span class="o">(</span><span class="n">difference</span> <span class="o">&lt;</span> <span class="mf">0.001</span><span class="o">){</span>  
        <span class="k">return</span> <span class="n">guess</span>  
    <span class="o">}</span>  
    <span class="k">else</span><span class="o">{</span>  
        <span class="kt">def</span> <span class="n">new_guess</span> <span class="o">=</span> <span class="o">((</span><span class="mi">2</span> <span class="s">/ guess) + guess) /</span> <span class="mi">2</span>  
        <span class="k">return</span> <span class="nf">sqrt2</span><span class="o">(</span><span class="n">new_guess</span><span class="o">)</span>  
    <span class="o">}</span>  
<span class="o">}</span>

<span class="n">sqrt2</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</pre></div>


<p>and the output:</p>
<div class="highlight"><pre>guess is 1  
guess is 1.5  
guess is 1.41666666665  
guess is 1.414215686275 
</pre></div>


<p>I've defined an <code>abs()</code> closure because the built-in <code>.abs()</code> method complains about different types of numbers. The <code>sqrt2()</code> method itself is easy to read – given a guess, calculate how far off it is by squaring it, and either return the guess (it it's close enough) or use the averaging procedure to make a new guess and call <code>sqrt2()</code> again. We could make it a bit more concise by leaving off the explicit return statements – a Groovy method returns the value of the last expression that was evaluated, so we don't really need them (this is what I've done with my <code>abs()</code> method). Note that when we call the method in the last line, we have to supply it with an initial guess.</p>
<p>The first step in abstraction is pretty obvious – let's do away with the hard-coded 2 and let the method take the number for which we want to take the square root as an argument.</p>
<div class="highlight"><pre><span class="kt">def</span> <span class="nf">sqrt_iter</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span><span class="o">){</span>  
    <span class="n">println</span> <span class="s2">&quot;guess is $guess&quot;</span>  
    <span class="kt">def</span> <span class="n">difference</span> <span class="o">=</span> <span class="n">abs</span><span class="o">((</span><span class="n">guess</span> <span class="o">*</span> <span class="n">guess</span><span class="o">)</span> <span class="o">-</span> <span class="n">x</span><span class="o">)</span>  
    <span class="k">if</span> <span class="o">(</span><span class="n">difference</span> <span class="o">&lt;</span> <span class="mf">0.001</span><span class="o">){</span>  
        <span class="n">guess</span>  
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>  
        <span class="kt">def</span> <span class="n">new_guess</span> <span class="o">=</span> <span class="o">((</span><span class="n">x</span> <span class="s">/ guess) + guess) /</span> <span class="mi">2</span>  
        <span class="n">sqrt_iter</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">new_guess</span><span class="o">)</span>  
    <span class="o">}</span>  
<span class="o">}</span>

<span class="kt">def</span> <span class="n">sqrt</span> <span class="o">=</span> <span class="o">{</span> <span class="n">x</span> <span class="o">-&gt;</span>  
    <span class="n">sqrt_iter</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>  
<span class="o">}</span>  
<span class="n">sqrt</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span>
</pre></div>


<p>To make things a a little more convenient I’ve moved the iterative code to a closure called <code>sqrt_iter()</code>; the job of <code>sqrt()</code> now is just to supply the initial guess. Now we can ask for the square root of exotic numbers like five:</p>
<div class="highlight"><pre>guess is 1  
guess is 3  
guess is 2.33333333335  
guess is 2.238095238095  
guess is 2.2360688956435
</pre></div>


<p>Up to this point there’s no higher-order programming going on. But now it starts to get interesting; we can extract the bits of code that are responsible for checking if the answer is good enough and for generating the next guess:</p>
<div class="highlight"><pre><span class="kt">def</span> <span class="nf">improve</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span><span class="o">){</span>  
    <span class="o">((</span><span class="n">x</span> <span class="s">/ guess) + guess) /</span> <span class="mi">2</span>  
<span class="o">}</span>

<span class="kt">def</span> <span class="nf">goodEnough</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span><span class="o">){</span>  
    <span class="kt">def</span> <span class="n">difference</span> <span class="o">=</span> <span class="n">abs</span><span class="o">((</span><span class="n">guess</span> <span class="o">*</span> <span class="n">guess</span><span class="o">)</span> <span class="o">-</span> <span class="n">x</span><span class="o">)</span>  
    <span class="n">difference</span> <span class="o">&lt;</span> <span class="mf">0.001</span>  
<span class="o">}</span>

<span class="kt">def</span> <span class="nf">sqrt_iter</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span><span class="o">){</span>  
    <span class="n">println</span> <span class="s2">&quot;guess is $guess&quot;</span>  
    <span class="k">if</span> <span class="o">(</span><span class="n">goodEnough</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span><span class="o">)){</span>  
        <span class="n">guess</span>  
    <span class="o">}</span>  
    <span class="k">else</span><span class="o">{</span>  
        <span class="kt">def</span> <span class="n">new_guess</span> <span class="o">=</span> <span class="n">improve</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span><span class="o">)</span>  
        <span class="n">sqrt_iter</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">new_guess</span><span class="o">)</span>  
    <span class="o">}</span>  
<span class="o">}</span>

<span class="kt">def</span> <span class="nf">sqrt</span><span class="o">(</span><span class="n">x</span><span class="o">){</span>  
    <span class="n">sqrt_iter</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>  
<span class="o">}</span>  
<span class="n">sqrt</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span>
</pre></div>


<p>Now, what we are left with in <code>sqrt_iter()</code> is a generic procedure for solving a problem by generating successively better guesses until we get close enough. We can make this abstraction explicit by turning our improve / good enough methods into closures and having them as arguments to the main iteration method:</p>
<div class="highlight"><pre><span class="n">sqrt_improve</span> <span class="o">=</span> <span class="o">{</span> <span class="n">x</span><span class="o">,</span> <span class="n">guess</span> <span class="o">-&gt;</span>  
    <span class="o">((</span><span class="n">x</span> <span class="s">/ guess) + guess) /</span> <span class="mi">2</span>  
<span class="o">}</span>

<span class="n">sqrt_goodEnough</span> <span class="o">=</span> <span class="o">{</span> <span class="n">x</span><span class="o">,</span> <span class="n">guess</span> <span class="o">-&gt;</span>  
    <span class="kt">def</span> <span class="n">difference</span> <span class="o">=</span> <span class="n">abs</span><span class="o">((</span><span class="n">guess</span> <span class="o">*</span> <span class="n">guess</span><span class="o">)</span> <span class="o">-</span> <span class="n">x</span><span class="o">)</span>  
    <span class="n">difference</span> <span class="o">&lt;</span> <span class="mf">0.001</span>  
<span class="o">}</span>

<span class="kt">def</span> <span class="nf">generic_iter</span><span class="o">(</span><span class="n">goodEnough</span><span class="o">,</span> <span class="n">improve</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">guess</span><span class="o">){</span>  
    <span class="n">println</span> <span class="s2">&quot;guess is $guess&quot;</span>  
    <span class="k">if</span> <span class="o">(</span><span class="n">goodEnough</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span><span class="o">)){</span>  
        <span class="n">guess</span>  
    <span class="o">}</span>  
    <span class="k">else</span><span class="o">{</span>  
        <span class="kt">def</span> <span class="n">new_guess</span> <span class="o">=</span> <span class="n">improve</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span><span class="o">)</span>  
        <span class="n">generic_iter</span><span class="o">(</span><span class="n">goodEnough</span><span class="o">,</span> <span class="n">improve</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">new_guess</span><span class="o">)</span>  
    <span class="o">}</span>  
<span class="o">}</span>

<span class="kt">def</span> <span class="nf">sqrt</span><span class="o">(</span><span class="n">x</span><span class="o">){</span>  
    <span class="n">generic_iter</span><span class="o">(</span><span class="n">sqrt_goodEnough</span><span class="o">,</span> <span class="n">sqrt_improve</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>  
<span class="o">}</span>  
<span class="n">sqrt</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span>
</pre></div>


<p>I’ve changed the names of the closures to make things clearer. <code>sqrt_improve()</code> and <code>sqrt_goodEnough()</code> are the particular type of <code>improve</code> and <code>goodEnough</code> routines that are for solving square roots. Our iteration routine is now a generic one that take four arguments – a closure that can tell if a guess is good enough; a closure that can improve an existing guess, a number for which we’re trying to find the answer, and a guess. Note that the <code>generic_iter()</code> method now contains absolutely no logic to do with calculating square roots – it is completely generic. We can use it to solve any problem which we can express in terms of a way of checking if a guess is good enough, and a way of improving a guess.</p>
<p>Here’s a completely brain-dead example; using the <code>generic_iter()</code> method to solve the problem of finding the smallest integer that is bigger than a given number:</p>
<div class="highlight"><pre><span class="n">biggerThan_improve</span> <span class="o">=</span> <span class="o">{</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span> <span class="o">-&gt;</span>  
    <span class="n">guess</span> <span class="o">+</span> <span class="mi">1</span>  
<span class="o">}</span>

<span class="n">biggerThan_goodEnough</span> <span class="o">=</span> <span class="o">{</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span> <span class="o">-&gt;</span>  
   <span class="n">guess</span> <span class="o">&gt;</span> <span class="n">x</span>  
<span class="o">}</span>

<span class="kt">def</span> <span class="nf">biggerThan</span><span class="o">(</span><span class="n">x</span><span class="o">){</span>  
    <span class="n">generic_iter</span><span class="o">(</span><span class="n">biggerThan_goodEnough</span><span class="o">,</span> <span class="n">biggerThan_improve</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="mi">0</span><span class="o">)</span>  
<span class="o">}</span>

<span class="n">biggerThan</span><span class="o">(</span><span class="mi">5</span><span class="o">)</span>
</pre></div>


<p>The <code>improve</code> closure just increments the guess by one; the good enough closure just checks whether the guess is bigger than the target number. The output is not particularly surprising:</p>
<div class="highlight"><pre>guess is 0  
guess is 1  
guess is 2  
guess is 3  
guess is 4  
guess is 5  
guess is 6 
</pre></div>


<p>One final point: because we can return closures as values from methods in Groovy, we can redefine <code>generic_iter</code> so that rather than executing the iteration procedure, it returns it. So we can assign the result to another variable and use it later on:</p>
<div class="highlight"><pre><span class="kt">def</span> <span class="nf">generic_iter</span><span class="o">(</span><span class="n">goodEnough</span><span class="o">,</span> <span class="n">improve</span><span class="o">){</span>  
    <span class="kt">def</span> <span class="n">returnClosure</span>  
    <span class="n">returnClosure</span> <span class="o">=</span> <span class="o">{</span> <span class="n">x</span><span class="o">,</span> <span class="n">guess</span> <span class="o">-&gt;</span>  
        <span class="n">println</span> <span class="s2">&quot;guess is $guess&quot;</span>  
        <span class="k">if</span> <span class="o">(</span><span class="n">goodEnough</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span><span class="o">)){</span>  
            <span class="n">guess</span>  
        <span class="o">}</span>  
        <span class="k">else</span><span class="o">{</span>  
            <span class="kt">def</span> <span class="n">new_guess</span> <span class="o">=</span> <span class="n">improve</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">guess</span><span class="o">)</span>  
            <span class="n">returnClosure</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">new_guess</span><span class="o">)</span>  
        <span class="o">}</span>  
    <span class="o">}</span>  
<span class="o">}</span>

<span class="kt">def</span> <span class="n">sqrt</span> <span class="o">=</span> <span class="n">generic_iter</span><span class="o">(</span><span class="n">sqrt_goodEnough</span><span class="o">,</span> <span class="n">sqrt_improve</span><span class="o">)</span>

<span class="n">sqrt</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span> <span class="mi">1 ...</span></pre></div>
                        <a class="btn btn-default btn-xs" href="../functional-abstraction-examples-from-scip-in-groovy.html">more ...</a>
    
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="../extending-java-number-classes-with-random-functions-in-groovy.html">Extending Java number classes with random functions in Groovy</a></h2>
                    <div class="well well-sm">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-11-04T18:10:35.425244+00:00"> Wed 04 November 2015</time>
    </span>



        <span class="label label-default">Category</span>
        <a href="../category/programming.html">programming</a>


<span class="label label-default">Tags</span>
	<a href="../tag/processing.html">processing</a>
        /
	<a href="../tag/groovy.html">groovy</a>
        /
	<a href="../tag/java.html">java</a>
        /
	<a href="../tag/computer-art.html">computer art</a>
        /
	<a href="../tag/metaprogramming.html">metaprogramming</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary"><p>Recently I’ve been playing around quite a bit with <a href="http://processing.org">Processing.org</a>, and one of the things that I often want to do is add a bit of noise to variables that represent positions, sizes, colours, etc. Most of the Processing functions that actually draw something (like lines, ellipses, etc) take their arguments in the form of <code>floats</code>, but most floating number operations in Java/Groovy return <code>BigDecimal</code> data types so we have to use casts a lot. Also, there’s no concise way to get a floating random number in a certain range that can be either negative or positive, so in order to randomly nudge a number up or down we end up with something like:</p>
<div class="highlight"><pre><span class="n">myNoisyNumber</span>  <span class="o">=</span> <span class="o">(</span><span class="kt">float</span><span class="o">)</span> <span class="o">(</span><span class="n">myNumber</span> <span class="o">-</span> <span class="mi">10</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="n">random</span><span class="o">.</span><span class="na">nextFloat</span><span class="o">()</span> <span class="o">*</span> <span class="mi">20</span><span class="o">)</span>
</pre></div>


<p>which is not exactly concise. If we want to call a Processing function that takes several such variables as arguments, then it gets worse:</p>
<div class="highlight"><pre><span class="c1">// draw a slightly-random ellipse</span>
<span class="n">ellipse</span><span class="o">(</span>  
<span class="o">(</span><span class="kt">float</span><span class="o">)(</span><span class="n">x</span><span class="o">-</span><span class="mi">10</span><span class="o">)+(</span><span class="n">random</span><span class="o">.</span><span class="na">nextFloat</span><span class="o">()*</span><span class="mi">20</span><span class="o">),</span>  
<span class="o">(</span><span class="kt">float</span><span class="o">)(</span><span class="n">y</span><span class="o">-</span><span class="mi">10</span><span class="o">)+(</span><span class="n">random</span><span class="o">.</span><span class="na">nextFloat</span><span class="o">()*</span><span class="mi">20</span><span class="o">),</span>  
<span class="o">(</span><span class="kt">float</span><span class="o">)(</span><span class="n">size</span><span class="o">-</span><span class="mi">5</span><span class="o">)+(</span><span class="n">random</span><span class="o">.</span><span class="na">nextFloat</span><span class="o">()*</span><span class="mi">10</span><span class="o">),</span>  
<span class="o">(</span><span class="kt">float</span><span class="o">)(</span><span class="n">size</span><span class="o">-</span><span class="mi">5</span><span class="o">)+(</span><span class="n">random</span><span class="o">.</span><span class="na">nextFloat</span><span class="o">()*</span><span class="mi">10</span><span class="o">)</span>
<span class="o">)</span>
</pre></div>


<p>Thinking about a Groovy solution to the problem I remembered reading about the meta-programming features that let us dynamically add methods to core Java classes at runtime. So here’s my solution – let’s modify the <code>Integer</code>, <code>Float</code> and <code>BigDecimal</code> classes to include an extra method, <code>jiggle()</code>, that will add or subtract a bit of random variation to the number and return it as a <code>float</code>. Here is the magic code, that must be called at runtime (the <code>setup()</code> method of a processing applet does the job very nicely):</p>
<div class="highlight"><pre><span class="n">Float</span><span class="o">.</span><span class="na">metaClass</span><span class="o">.</span><span class="na">jiggle</span> <span class="o">=</span> <span class="o">{</span> <span class="kt">def</span> <span class="n">amount</span> <span class="o">-&gt;</span>  
    <span class="kt">double</span> <span class="n">rand</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextFloat</span><span class="o">()</span> <span class="o">*</span> <span class="n">amount</span>  
    <span class="k">if</span> <span class="o">(</span><span class="n">random</span><span class="o">.</span><span class="na">nextBoolean</span><span class="o">()){</span>  
        <span class="n">rand</span> <span class="o">=</span> <span class="n">rand</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>  
    <span class="o">}</span>  
    <span class="k">return</span> <span class="o">(</span><span class="n">Float</span><span class="o">)</span> <span class="n">delegate</span> <span class="o">+</span> <span class="n">rand</span>  
<span class="o">}</span>

<span class="n">Integer</span><span class="o">.</span><span class="na">metaClass</span><span class="o">.</span><span class="na">jiggle</span> <span class="o">=</span> <span class="o">{</span> <span class="kt">def</span> <span class="n">amount</span> <span class="o">-&gt;</span>  
    <span class="kt">double</span> <span class="n">rand</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextFloat</span><span class="o">()</span> <span class="o">*</span> <span class="n">amount</span>  
    <span class="k">if</span> <span class="o">(</span><span class="n">random</span><span class="o">.</span><span class="na">nextBoolean</span><span class="o">()){</span>  
        <span class="n">rand</span> <span class="o">=</span> <span class="n">rand</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>  
    <span class="o">}</span>  
    <span class="k">return</span> <span class="o">(</span><span class="n">Float</span><span class="o">)</span> <span class="n">delegate</span> <span class="o">+</span> <span class="n">rand</span>  
<span class="o">}</span>

<span class="n">BigDecimal</span><span class="o">.</span><span class="na">metaClass</span><span class="o">.</span><span class="na">jiggle</span> <span class="o">=</span> <span class="o">{</span> <span class="kt">def</span> <span class="n">amount</span> <span class="o">-&gt;</span>  
    <span class="kt">double</span> <span class="n">rand</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="na">nextFloat</span><span class="o">()</span> <span class="o">*</span> <span class="n">amount</span>  
    <span class="k">if</span> <span class="o">(</span><span class="n">random</span><span class="o">.</span><span class="na">nextBoolean</span><span class="o">()){</span>  
        <span class="n">rand</span> <span class="o">=</span> <span class="n">rand</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>  
    <span class="o">}</span>  
    <span class="k">return</span> <span class="o">(</span><span class="n">Float</span><span class="o">)</span> <span class="n">delegate</span> <span class="o">+</span> <span class="n">rand</span>  
<span class="o">}</span>
</pre></div>


<p>The <code>jiggle()</code> method (actually it is a closure) itself is pretty straightforward. We take random number, scale it by the argument, invert it half the time, add it to the number, and cast the result to a <code>Float</code> before returning it. </p>
<p>Two things are of interest here; firstly, we need to have a <code>Random</code> object called <code>random</code> in the scope where this code is run (we could get round this by creating a new <code>Random</code> object inside the closure, but I find it easier for debugging to have a single <code>Random</code> object for the whole sketch, making it easy to reproduce). Secondly, when we want to refer to the object to which the closure belongs (i.e. the <code>Integer</code>, <code>Float</code> or <code>BigDecimal</code>) we use <code>delegate</code>.</p>
<p>Having run this little snippet, our little ellipse example becomes much more concise:</p>
<div class="highlight"><pre><span class="n">ellipse</span><span class="o">(</span><span class="n">x</span><span class="o">.</span><span class="na">jiggle</span><span class="o">(</span><span class="mi">10</span><span class="o">),</span><span class="n">y</span><span class="o">.</span><span class="na">jiggle</span><span class="o">(</span><span class="mi">10</span><span class="o">),</span><span class="n">size</span><span class="o">.</span><span class="na">jiggle</span><span class="o">(</span><span class="mi">5</span><span class="o">),</span><span class="n">size</span><span class="o">.</span><span class="na">jiggle</span><span class="o">(</span><span class="mi">5</span><span class="o">))</span>
</pre></div>


<p>and since we have ensured that all our new methods return <code>Floats</code>, we can happily through any type of number we like into the mix and be sure that the jiggled number will come out OK. We can even make use of Groovy’s everything-is-an-object syntax to do cool stuff like:</p>
<div class="highlight"><pre><span class="n">ellipse</span><span class="o">(</span><span class="mi">10</span><span class="o">.</span><span class="na">jiggle</span><span class="o">(</span><span class="mi">5</span><span class="o">),</span> <span class="mf">5.5</span><span class="o">.</span><span class="na">jiggle</span><span class="o">(</span><span class="mi">20</span><span class="o">),</span> <span class="mi">100</span><span class="o">.</span><span class="na">jiggle</span><span class="o">(</span><span class="mf">3.1415</span><span class="o">),</span> <span class="mf">0.7</span><span class="o">.</span><span class="na">jiggle</span><span class="o">(</span><span class="mf">0.002</span><span class="o">))</span>
</pre></div>
                        <a class="btn btn-default btn-xs" href="../extending-java-number-classes-with-random-functions-in-groovy.html">more ...</a>
    
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="../beware-of-the-default-acegi-grails-plugin-setup.html">Beware of the default acegi Grails plugin setup</a></h2>
                    <div class="well well-sm">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-11-04T18:10:32.937243+00:00"> Wed 04 November 2015</time>
    </span>



        <span class="label label-default">Category</span>
        <a href="../category/programming.html">programming</a>


<span class="label label-default">Tags</span>
	<a href="../tag/groovy.html">groovy</a>
        /
	<a href="../tag/grails.html">grails</a>
        /
	<a href="../tag/webdev.html">webdev</a>
        /
	<a href="../tag/postgresql.html">postgresql</a>
        /
	<a href="../tag/acegi.html">acegi</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary"><p>This is firmly in the “putting it up here just in case anyone else has the same problem” category.  There is a gotcha that bites when writing a Grails application that uses the acegi security plugin along with a postgresql database as the data source.  The problem is that the acegi plugin will, by default, create a domain class with the name <code>User</code>.  When you try to run the application with a postgresql datasource, GORM will try to create a table with the name <code>user</code>, which postgresql will not like as it is a reserved word.</p>
<p>This is a particularly annoying bug, because <code>user</code> is <strong>not</strong> a reserved word in other RDBMs, so the error will only become apparent when you switch from your development HSQLDB to postgres, by which time you will have have references to <code>Users</code> scattered throughout your application.</p>
<p>Thankfully, the fix is not too onerous; either rename your <code>User</code> class to something else (and do a tentative find/replace in your code) or use a custom GORM table mapping:</p>
<div class="highlight"><pre><span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>
  <span class="o">..</span>
  <span class="kd">static</span> <span class="n">mapping</span> <span class="o">=</span> <span class="o">{</span>
      <span class="n">table</span> <span class="s1">&#39;myappname_user&#39;</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
                        <a class="btn btn-default btn-xs" href="../beware-of-the-default-acegi-grails-plugin-setup.html">more ...</a>
    
                </div>
            </article>
            <hr/>
            <article>
                <h2><a href="../a-pitfall-to-avoid-when-using-the-grails-uiperformance-plugin.html">A pitfall to avoid when using the Grails UIPerformance plugin</a></h2>
                    <div class="well well-sm">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-11-04T18:10:28.649244+00:00"> Wed 04 November 2015</time>
    </span>



        <span class="label label-default">Category</span>
        <a href="../category/programming.html">programming</a>


<span class="label label-default">Tags</span>
	<a href="../tag/groovy.html">groovy</a>
        /
	<a href="../tag/grails.html">grails</a>
        /
	<a href="../tag/uiperformance.html">UIPerformance</a>
        /
	<a href="../tag/schoolboy-error.html">schoolboy error</a>
    
</footer><!-- /.post-info -->                    </div>
                <div class="summary"><p>A quick warning to anyone who’s using the excellent <a href="https://grails.org/plugin/ui-performance">UIPerformance</a> plugin for grails:  don’t do what I did, and set up your bundles with identical names:</p>
<div class="highlight"><pre><span class="n">uiperformance</span><span class="o">.</span><span class="na">bundles</span> <span class="o">=</span> <span class="o">[</span>

    <span class="o">[</span><span class="nl">type:</span> <span class="s1">&#39;css&#39;</span><span class="o">,</span>
        <span class="nl">name:</span> <span class="s1">&#39;bundled&#39;</span><span class="o">,</span>
        <span class="nl">files:</span> <span class="o">[</span><span class="s1">&#39;reset&#39;</span><span class="o">,</span>
            <span class="s1">&#39;style&#39;</span><span class="o">,</span>
            <span class="s1">&#39;invalid&#39;</span><span class="o">,</span>
            <span class="s1">&#39;jquery.jcarousel&#39;</span><span class="o">]],</span>

    <span class="o">[</span><span class="nl">type:</span> <span class="s1">&#39;js&#39;</span><span class="o">,</span>
        <span class="nl">name:</span> <span class="s1">&#39;bundled&#39;</span><span class="o">,</span>
        <span class="nl">files:</span> <span class="o">[</span>
            <span class="s1">&#39;jquery-1.3.2.min&#39;</span><span class="o">,</span>
            <span class="s1">&#39;simpla.jquery.configuration&#39;</span><span class="o">,</span>
            <span class="s1">&#39;facebox&#39;</span><span class="o">,</span>
            <span class="s1">&#39;jquery.jcarousel.pack&#39;</span><span class="o">,</span>
            <span class="s1">&#39;cert&#39;</span><span class="o">]]</span>
<span class="o">]</span>
</pre></div>


<p>Unsurprisingly, this causes the plugin to get confused; the following works much better:</p>
<div class="highlight"><pre><span class="n">uiperformance</span><span class="o">.</span><span class="na">bundles</span> <span class="o">=</span> <span class="o">[</span>

    <span class="o">[</span><span class="nl">type:</span> <span class="s1">&#39;css&#39;</span><span class="o">,</span>
        <span class="nl">name:</span> <span class="s1">&#39;bundled_css&#39;</span><span class="o">,</span>
        <span class="nl">files:</span> <span class="o">[</span><span class="s1">&#39;reset&#39;</span><span class="o">,</span>
            <span class="s1">&#39;style&#39;</span><span class="o">,</span>
            <span class="s1">&#39;invalid&#39;</span><span class="o">,</span>
            <span class="s1">&#39;jquery.jcarousel&#39;</span><span class="o">]],</span>

    <span class="o">[</span><span class="nl">type:</span> <span class="s1">&#39;js&#39;</span><span class="o">,</span>
        <span class="nl">name:</span> <span class="s1">&#39;bundled_javascript&#39;</span><span class="o">,</span>
        <span class="nl">files:</span> <span class="o">[</span>
            <span class="s1">&#39;jquery-1.3.2.min&#39;</span><span class="o">,</span>
            <span class="s1">&#39;simpla.jquery.configuration&#39;</span><span class="o">,</span>
            <span class="s1">&#39;facebox&#39;</span><span class="o">,</span>
            <span class="s1">&#39;jquery.jcarousel.pack&#39;</span><span class="o">,</span>
            <span class="s1">&#39;cert&#39;</span><span class="o">]]</span>
<span class="o">]</span>
</pre></div>
                        <a class="btn btn-default btn-xs" href="../a-pitfall-to-avoid-when-using-the-grails-uiperformance-plugin.html">more ...</a>
    
                </div>
            </article>
            <hr/>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<div id="aboutme">
        <p>
            <img width="100%" class="img-thumbnail" src="/images/avatar.jpg"/>
        </p>
    <p>
        <strong>About Martin Jones</strong><br/>
        
Coding, writing and teaching<br>

<h3>My books</h3>

<a href="http://www.amazon.com/Python-Biologists-complete-programming-beginners/dp/1492346136/">
    <h5>Python for Biologists</h5>
    <img src="/images/p4b.png"> 
</a>

<a href="http://www.amazon.com/Advanced-Python-Biologists-Martin-Jones/dp/1495244377/">
    <h5>Advanced Python for Biologists</h5>
    <img src="/images/ap4b.png"> 
</a>

<a href="http://www.amazon.com/Python-complete-beginners-friendly-experience/dp/1514376989/">
    <h5>Python for complete beginners</h5>
    <img src="/images/p4begin.png"> 
</a>


    </p>
</div>
<section class="well well-sm">



    <ul class="list-group list-group-flush">
    <li class="list-group-item"><h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
      <ul class="list-group" id="links">
        <li class="list-group-item">
            <a href="http://pythonforbiologists.com" target="_blank">
                Python for Biologists
            </a>
        </li>
        <li class="list-group-item">
            <a href="http://www.amazon.com/gp/search/ref=sr_adv_b/?search-alias=stripbooks&unfiltered=1&field-keywords=&field-author=&field-title=&field-isbn=1514376989+%7C+1492346136+%7C+1495244377&field-publisher=&node=&field-p_n_condition-type=&p_n_feature_browse-bin=&field-subject=&field-language=&field-dateop=During&field-datemod=&field-dateyear=&sort=relevanceexprank&Adv-Srch-Books-Submit.x=20&Adv-Srch-Books-Submit.y=19" target="_blank">
                My Python books
            </a>
        </li>
      </ul>
    </li>


            <li class="list-group-item"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Recent Posts</span></h4>
                <ul class="list-group" id="recentposts">
                    <li class="list-group-item">
                        <a href="../how-to-use-jquery-to-send-json-data-to-a-grails-app.html">
                            How to use jQuery to send JSON data to a Grails app
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../hibernate-magic-with-lazy-evaluation.html">
                            Hibernate magic with lazy evaluation
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../functional-abstraction-examples-from-scip-in-groovy.html">
                            Functional Abstraction examples from SCIP in Groovy
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../extending-java-number-classes-with-random-functions-in-groovy.html">
                            Extending Java number classes with random functions in Groovy
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../beware-of-the-default-acegi-grails-plugin-setup.html">
                            Beware of the default acegi Grails plugin setup
                        </a>
                    </li>
                </ul>
            </li>

            <li class="list-group-item"><a href="../"><h4><i class="fa fa-home fa-lg"></i><span class="icon-label">Categories</span></h4></a>
                <ul class="list-group" id="categories">
                    <li class="list-group-item">
                        <a href="../category/diy.html">
                            <i class="fa fa-folder-open fa-lg"></i> diy
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../category/programming.html">
                            <i class="fa fa-folder-open fa-lg"></i> programming
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../category/science.html">
                            <i class="fa fa-folder-open fa-lg"></i> science
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../category/tech.html">
                            <i class="fa fa-folder-open fa-lg"></i> tech
                        </a>
                    </li>
                    <li class="list-group-item">
                        <a href="../category/web.html">
                            <i class="fa fa-folder-open fa-lg"></i> web
                        </a>
                    </li>
                </ul>
            </li>




    <li class="list-group-item"><h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
        <div id="gh_repos">
            <p class="list-group-item">Status updating...</p>
        </div>
            <a href="https://github.com/mojones">@mojones</a> on GitHub
    </li>
    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2015 Martin Jones
            &middot; Powered by <a href="https://github.com/DandyDev/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>


<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="../theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="../theme/js/respond.min.js"></script>

    <script src="../theme/js/bodypadding.js"></script>
    <!-- GitHub JS -->
    <script type="text/javascript">
        $(document).ready(function () {
            if (!window.jXHR) {
                var jxhr = document.createElement('script');
                jxhr.type = 'text/javascript';
                jxhr.src = '../theme/js/jXHR.js';
                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(jxhr, s);
            }

            github.showRepos({
                user: 'mojones',
                count: 5,
                skip_forks: false,
                target: '#gh_repos'
            });
        });
    </script>
    <script src="../theme/js/github.js" type="text/javascript"></script>
    <!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'mojonesnet'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->
    <!-- Google Analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-2758363-36']);
        _gaq.push(['_trackPageview']);

        (function () {
            var ga = document.createElement('script');
            ga.type = 'text/javascript';
            ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(ga, s);
        })();
    </script>
    <!-- End Google Analytics Code -->

</body>
</html>